Check packages in the alternatives and stalled_pkg_timeout lists in
the configuration file and Conf.pm.  Make sure they are current and
valid.

sbuild-createchroot should import most of buildd-make-chroot.
(note: only needed for buildd use--accounts and passwords needed for access)

Split utility programs into library functions. Functions should operate on
chroot objects, or plain files where appropriate.

*/Conf.pm need to be classes.

Chroot.pm: Move chroot naming out of begin_session.

Are 'Build Start Time' and 'Pkg Start Time' different?

sbuild-setup references ~/build, even though not required.

sbuild-setup should document all files copied by schroot setup scripts.

bin/*: Add --help and --version

Add a --verbose option to all commands

All programs must use Getopt::Long for options parsing

sbuild-stats option formatting and option processing perform more than
one action at once?  Only set mode once?  actions have multiple args?

run_*_command should take an arrayref instead of a string for running
commands.  They can then be passed directly to schroot avoiding
quoting issues.

buildd-clean-upload hard-codes $HOME/upload.  Configure location.

All perl programs and modules should
- use strict
- use warnings
- use function prototypes

buildd hard-codes config file locations.  Used in check_reread_config.

buildd hard-codes main::HOME and PATH.  Set in ::Conf.

buildd-watcher should use strftime in place of own functions

sbuild utilities should allow specification of chroot architecture

Directory passed to dpkg-source includes Debian version.  Should be upstream only.

Document and add examples for %mailto.

sbuild-adduser should do schroot/sudo-specific setup depending on
$chroot_mode.

Use 'dcmd cp' to copy build files

Buildd.pm: *_command use:
 - Split host only chroot use only into ChrootHost object.  No root.

Unify utility command-line options (help, version) and add verbose/debug
options.

Copyright details of new files.

ConfBase get/set code doesn't distinguish between undefined and empty
   hashes (and also arrays?)  Due to Perl automatically creating an
   instance if the reference is undefined (autovivification).

Validate programs and paths only if required
- programs which only work inside the chroot
- programs which only work outside the chroot (if required by config)
- programs which may or may not be required inside and/or outside

gzip log files

send gzipped log mail, with correct headers
Content-Transfer-Encoding and Content-Type need setting.
message['Content-Transfer-Encoding'] = 'base64'
message['Content-Type'] = 'application/x-gzip'
https://buildd.debian.org/docs/log-compressor.py


Where did the 0.57.7 debian/changelog go to?

buildd-mail: Why do we use lockfiles rather than real fcntl locks?

sbuild: Add alternative build-dep resolver support:
 - traditional (current)
 - apt_get (apt-get build-dep)
 - apt_package (dependency package)
 - aptitude (aptitude build-dep)
 - aptitude_package (dependency package)

Move locking functions out of Sbuild::Build.  Use proper locking in
place of lockfiles.

Wannabuild::Database::send_reupload_mail unused.

Wannabuild::Database: Move priority, section and category values into
configuration file to allow customisation.

Sbuild::Base: Add append method to simplify set(get() . ) idiom.

buildd auto-restart isn't useful due to loss of @INC and failure to
detect changes in modules.  Create init script instead.

buildd-mail: %header (to|from|subject|message-id|date) are mandatory.
Check for these and bail out if not present.

buildd*: Most programs do not call close_log, but should be doing.

buildd: Hook Host ChrootRoot into stderr logger

Buildd::Conf: Add Sbuild::Chroot heirarchy-specific configuration
   keys.
- split into separate initialisation function,
- split wanna-build config into separate function also.

buildd*: Use Sbuild::Base logging infrastructure (tie in logger()
log formatting and semantics into log())

buildd: shutdown_* should check if we are a daemon before removing
the pidfile, as for END.

buildd*: Objectify and use ChrootRoot

ChrootRoot: Tie in to logger

run|pipe_apt_command should be generic functions, not class
methods.

Use ChrootRoot to run commands on host system.  Remove CHROOT
parameter?  Only needed for run_apt_command, which can work
accordingly without CHROOT.

Logging functions should take array rather than scalar for
logger() compatibility.

buildd-vlog: Rather than tailing the output of sbuild logs, once
buildd uses Sbuild::Build directly, the daemon will be able to
do its own output (if desired).

buildd-mail: Moves built packages directly into the chroot
   /var/cache/apt/archives.  It should use Sbuild::Chroot.

buildd: SIGHUP should reread config, not SIGUSR1.  Swap?
